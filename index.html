---
---

<!DOCTYPE html>
<html>
<head>
    <title>–õ—é–±–∏–º—ã–µ –º–µ—Å—Ç–∞</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link href="https://bootswatch.com/4/united/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        .btn .btn-primary a {color: #fff !important}

        #map {
            width: 100%;
            height: calc(100vh - 56px);
        }
        #order-button {
            border-top-left-radius: 0;   /* –õ–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª –±–µ–∑ —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è */
            border-top-right-radius: 0;
            color: #fff
        }
        .leaflet-container a {color: #e95420}
        .leaflet-popup-content-wrapper {background: none; border-radius: 0px}
        .leaflet-popup-content-wrapper, .leaflet-popup-tip {box-shadow: none}
        .leaflet-popup-content {margin: 13px 24px 0px 20px}
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="#">–õ—é–±–∏–º—ã–µ –º–µ—Å—Ç–∞</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="/">–ö–∞—Ä—Ç–∞</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://krushin.ru/all/map">–û –ø—Ä–æ–µ–∫—Ç–µ</a>
            </li>
          </ul>
        </div>
      </nav>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        var map = L.map('map').setView([55.7558, 37.6173], 13); // Center map on Moscow
        var southWest = L.latLng(55.489927, 36.827148), // –Æ–≥–æ-–∑–∞–ø–∞–¥–Ω—ã–π —É–≥–æ–ª –≥—Ä–∞–Ω–∏—Ü—ã
        northEast = L.latLng(56.009657, 38.489927); // –°–µ–≤–µ—Ä–æ-–≤–æ—Å—Ç–æ—á–Ω—ã–π —É–≥–æ–ª –≥—Ä–∞–Ω–∏—Ü—ã
        var bounds = L.latLngBounds(southWest, northEast);
        map.setMaxBounds(bounds);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            minZoom: 10,
            attribution: '¬© OpenStreetMap contributors'
        }).addTo(map);
        map.attributionControl.setPrefix('<a href="https://leafletjs.com">Leaflet</a> / Icons by <a href="https://www.flaticon.com/authors/freepik">Freepik</a>');
        var japanese = L.icon({iconUrl: 'assets/images/japanese.png',iconSize: [32, 32],iconAnchor: [19, 19],popupAnchor: [-3, -11]});
        var club = L.icon({iconUrl: 'assets/images/club.png',iconSize: [32, 32],iconAnchor: [15, 20],popupAnchor: [0, -16]});
        var beer = L.icon({iconUrl: 'assets/images/beer.png',iconSize: [32, 32],iconAnchor: [14, 20],popupAnchor: [3, -16]});
        var coffee = L.icon({iconUrl: 'assets/images/coffee.png',iconSize: [32, 32],iconAnchor: [15, 19],popupAnchor: [-4, -11]});
        var bar = L.icon({iconUrl: 'assets/images/bar.png',iconSize: [32, 32],iconAnchor: [18, 20],popupAnchor: [0, -10]});
        {% for place in site.data.places %}
        var marker{{forloop.index}} = L.marker([{{ place.lat }}, {{ place.lon }}]{% if place.category %},{icon: {{ place.category }}}{% endif %}).addTo(map).bindPopup(`
        <div class="card">
        {% if place.image %}<img src="{{ place.image }}" class="card-img-top" alt="...">{% endif %}
        <div class="card-body" style="width: 100%">
            <h5 class="card-title">{{ place.name }}</h5>
            <h6 class="card-subtitle mb-2 text-muted">{{ place.subtitle }}</h6>
            <p class="card-text">{{ place.description }}</p>
            {% if place.schedule %}
            <p class="card-text">
              <strong>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</strong><br>
              {% for entry in place.schedule %}
              {{ entry[0] }} ‚Äî {{ entry[1] }} ‚Äì {{entry[2]}}<br>
              {% endfor %}
            </p>
            {% else %}
            <p class="card-text">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ</p>
            {% endif %}
            <a href="#" class="card-link">–Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã</a>
            <a href="https://www.google.com/maps?q={{ place.lat }},{{ place.lon }}" class="card-link">Google Maps</a>
            <a href="https://2gis.ru/geo/{{ place.lon }}%2C{{ place.lat }}" class="card-link">2GIS</a>
            <p class="card-text text-muted">üìç {{ place.address }}</p>

        </div>
        {% if place.booking_link %}<a href="{{ place.booking_link }}" id="order-button" class="btn btn-primary">{% if place.custom_button %}{{ place.custom_button }}{% else %}–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–ª–∏–∫{% endif %}</a>{% endif %}

        </div>
        `);
        {% endfor %}
    </script>
</body>
</html>
